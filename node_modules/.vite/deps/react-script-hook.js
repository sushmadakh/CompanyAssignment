import {
  require_react
} from "./chunk-BQLGQQBC.js";
import {
  __commonJS
} from "./chunk-RSJERJUL.js";

// node_modules/react-script-hook/lib/use-script.js
var require_use_script = __commonJS({
  "node_modules/react-script-hook/lib/use-script.js"(exports) {
    "use strict";
    var __rest = exports && exports.__rest || function(s, e) {
      var t = {};
      for (var p in s)
        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
          t[p] = s[p];
      if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
            t[p[i]] = s[p[i]];
        }
      return t;
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.scripts = void 0;
    var react_1 = require_react();
    exports.scripts = {};
    var checkExisting = function(src) {
      var existing = document.querySelector('script[src="' + src + '"]');
      if (existing) {
        return exports.scripts[src] = {
          loading: false,
          error: null,
          scriptEl: existing
        };
      }
      return void 0;
    };
    function useScript(_a) {
      var src = _a.src, _b = _a.checkForExisting, checkForExisting = _b === void 0 ? false : _b, attributes = __rest(_a, ["src", "checkForExisting"]);
      var status = src ? exports.scripts[src] : void 0;
      if (!status && checkForExisting && src && isBrowser) {
        status = checkExisting(src);
      }
      var _c = (0, react_1.useState)(status ? status.loading : Boolean(src)), loading = _c[0], setLoading = _c[1];
      var _d = (0, react_1.useState)(status ? status.error : null), error = _d[0], setError = _d[1];
      (0, react_1.useEffect)(function() {
        if (!isBrowser || !src || !loading || error)
          return;
        status = exports.scripts[src];
        if (!status && checkForExisting) {
          status = checkExisting(src);
        }
        var scriptEl;
        if (status) {
          scriptEl = status.scriptEl;
        } else {
          scriptEl = document.createElement("script");
          scriptEl.src = src;
          Object.keys(attributes).forEach(function(key) {
            if (scriptEl[key] === void 0) {
              scriptEl.setAttribute(key, attributes[key]);
            } else {
              scriptEl[key] = attributes[key];
            }
          });
          status = exports.scripts[src] = {
            loading: true,
            error: null,
            scriptEl
          };
        }
        var handleLoad = function() {
          if (status)
            status.loading = false;
          setLoading(false);
        };
        var handleError = function(error2) {
          if (status)
            status.error = error2;
          setError(error2);
        };
        scriptEl.addEventListener("load", handleLoad);
        scriptEl.addEventListener("error", handleError);
        document.body.appendChild(scriptEl);
        return function() {
          scriptEl.removeEventListener("load", handleLoad);
          scriptEl.removeEventListener("error", handleError);
        };
      }, [src]);
      return [loading, error];
    }
    exports.default = useScript;
    var isBrowser = typeof window !== "undefined" && typeof window.document !== "undefined";
  }
});

// node_modules/react-script-hook/lib/index.js
var require_lib = __commonJS({
  "node_modules/react-script-hook/lib/index.js"(exports) {
    "use strict";
    var __importDefault = exports && exports.__importDefault || function(mod) {
      return mod && mod.__esModule ? mod : { "default": mod };
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.scripts = exports.default = void 0;
    var use_script_1 = require_use_script();
    Object.defineProperty(exports, "default", { enumerable: true, get: function() {
      return __importDefault(use_script_1).default;
    } });
    Object.defineProperty(exports, "scripts", { enumerable: true, get: function() {
      return use_script_1.scripts;
    } });
  }
});

// dep:react-script-hook
var react_script_hook_default = require_lib();
export {
  react_script_hook_default as default
};
//# sourceMappingURL=react-script-hook.js.map
